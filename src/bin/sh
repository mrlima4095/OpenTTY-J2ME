#!/bin/lua

local function shell(args, aliases, scope, )
    local cmd, argument = string.getCommand(args), string.getArgument(args)
    args = string.split(argument, nil)

    if cmd == "" then
    elseif io.open("/bin/" .. cmd) then
        if argument == "" then
        else
            local res = io.popen("/bin/" .. cmd, argument, false, io.stdout)
            return res.status
        end
    elseif cmd == "exit" then os.exit(nil)
    elseif cmd == "eval" then
        if argument == "" then
        else
            print(shell(argument))
        end
    elseif cmd == "echo" then print(argument)
    else
        print(cmd .. ": not found")
        return 127
    end

    return 0
end

