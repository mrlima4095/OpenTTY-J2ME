#!/bin/lua

local libcore = require("libcore")

if arg[1] then
    local status = io.write(libcore.joinpath(arg[1]), "", "w")
        
    if status == 1 then
        print("touch: " .. arg[1] .. ": java.io.IOException")
    elseif status == 5 then
        print("touch: " .. arg[1] .. ": read-only storage")
    elseif status == 13 then
        print("touch: " .. arg[1] .. ": permission denied")
    elseif status == 127 then
        print("touch: " .. arg[1] .. ": not found")
    elseif status == 2 then
        print(libcore.joinpath(arg[1]), "invalid path")
    end

    os.exit(tonumber(status))
else
    print("touch: usage: touch [file]")
    os.exit(2)
end